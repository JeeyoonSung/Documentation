# Writing Document

TWTL Doc 001

문서 작성 요령에 관해 설명합니다.

## 본 문서에 대하여

프로젝트 문서를 작성하는 요령에 관한 이 문서는, 개발 문서가 작성되는 본질적 이유를 따라서 작성되었습니다. 개발 문서의 궁극적 목적은 프로젝트 전반에 걸쳐 과거에서 현재로 이어지는 프로젝트의 목적과 지향점, 여러 설계 결정, 전체 결정을 관통하는 원칙과 가치를 현재와 미래의 팀원에게 효율적으로 공유하는 것입니다. 문서가 이와 같이 소기의 목적을 달성하기 위해서는 문서가 잘 작성될 필요가 있습니다.

잘 작성된 문서가 어떤 것인가에 대해서 쉽고 짧고 정확하게 정의할 수는 없습니다. (셋 중 많아야 둘을 달성할 수 있을 것입니다.) 그러나 확실한 것은 좋은 문서가 되기 위해 문서는 가능한 한 쉽고 짧고 정확해야 한다는 것입니다. 애석하게도 사실 잘 작성된 문서가 무엇인가에 대한 정의가 항상 명확하지는 않기에 개개의 개발 문서 역시 그러하기 쉽습니다.

이 문서는 좋은 개발 문서가 담아야 하는 것에 대해서 가능한 한 많은 것을 담기보다는, 문서가 체계적으로 관리되기 위해 문서 작성자가 따라 줘야 할 원칙을 우선 기술하고 있습니다. 여러 원칙에 부합하는 결정에 따라, TWTL 프로젝트의 모든 개발 문서는 이 Git 저장소에서 Markdown 문법을 따르는 텍스트 파일로 작성될 것입니다. (저장소 목록에 대해서는 [TWTL Doc 002](./002-index)를 참고하십시오.)

개개의 문서는 여전히 문서의 특징을 고려하여 세심하게 작성될 필요가 있습니다.

## 포매팅

### 소개: 포매팅과 Markdown

문서에 서식을 부여하는 것을 포매팅(formatting)이라고 합니다. 단순히 배치된 텍스트는 읽기 불편하기 때문에, 인류는 텍스트를 단순히 배치하지 않고 서식을 부여하는 방법을 꾸준히 고안해 왔습니다. 레이아웃 내에서 어떤 텍스트는 **굵은 글씨**로 강조됩니다. 어떤 텍스트는 *기울인 글씨*로 강조 또는 인용됩니다. 행갈이(line break), 문단(paragraph) 들여쓰기와 여백(indentation and margin), 장(chapter)과 절(section) 구분, 제목(title) 등이 모두 텍스트에 서식을 부여하는 방법입니다.

초창기 컴퓨터 시스템에서는 디스플레이에서 서식을 부여하는 방법이 없었기에, 텍스트를 담은 파일에도 역시 서식이 없었습니다. 여전히 서식 없는 텍스트 에디터가 있지만, 오늘날 대부분의 사람들은 더 나은 문서를 만들기 위해 워드프로세서를 사용합니다. 보통의 워드프로세서 소프트웨어에서는 위와 같이 텍스트에 서식을 부여하는 방법을 기본적으로 모두 제공하며, 서식이 시각적으로 어떻게 보일지에 해당하는 타이포그래피와 더불어 이미지 등을 섞어 페이지를 짜는 레이아웃 디자인 도구까지도 어느 정도 갖추고 있습니다.

그러나 이런 워드프로세서가 개발 문서를 작성하는 데는 적합하지 않은 것이 사실입니다. 소프트웨어 개발 프로젝트에서, 소스 코드나 이미지 등의 리소스는 대부분 소프트웨어 형상 관리 (SCM) 도구와 같은 플랫폼을 통해 이슈 트래커 등과 함께 유기적으로 관리됩니다. 개발 문서 역시 프로젝트와 생애 주기를 함께하는 중요한 요소이기 때문에 소스 코드와 같이 체계적으로 관리될 필요가 있습니다. 그러나 워드프로세서로 작성한 문서 파일은 Git과 같은 버전 제어 시스템의 이점을 충분히 누릴 수 없습니다.

[AsciiDoc](https://en.wikipedia.org/wiki/AsciiDoc), [reStructuredText](https://en.wikipedia.org/wiki/ReStructuredText), [Wikitext](https://en.wikipedia.org/wiki/Wiki), [Markdown](https://en.wikipedia.org/wiki/Markdown) 등은 앞서 설명한 워드프로세서 문서 파일과, HTML/XML 등의 마크업 언어에 대한 대안으로 등장한 [가벼운 마크업 언어](https://en.wikipedia.org/wiki/Lightweight_markup_language)입니다. 이들 가벼운 마크업 언어는 서식 없는 텍스트 환경에서도 무난하게 읽고 쓸 수 있으며, 따라서 자연스럽게 버전 제어 시스템의 이점을 누리기에도 좋습니다. 또한 HTML이나 PDF로 쉽게 변환되므로 풍부한 서식이 적용된 텍스트로 만들어 읽을 수도 있습니다.

많은 가벼운 마크업 언어가 문서를 작성하기 위해 활용되고 있습니다. 문서를 다루는 웹 서비스에서 사용자가 가벼운 마크업 언어로 문서를 작성하고 이를 HTML로 변환해서 제공한다면, 웹 서비스는 글에 난무할 수 있는 HTML 태그로부터 안전해지고, 개별 문서는 쉽고 깔끔하게 작성될 수 있습니다. 이 때문에 많은 웹 위키 서비스 프로그램이 흔히 Wikitext라 불리는 (서로 조금씩 다른) 마크업 언어를 제공하고 있으며 오랜 기간 사실상 표준으로 취급받아 왔습니다. 현재 사실상 표준으로 자리잡아 있는 가벼운 마크업 언어는 Markdown으로, Tumblr나 Wordpress 등 웹 블로그 서비스/프로그램에서 지원하여 널리 쓰이고 있으며 GitHub, Bitbucket 등의 협업 개발 플랫폼 서비스에서도 지원하고 있습니다. 개발 문서는 과거에 주로 워드프로세서 문서로 작성되거나 위키에서 작성되었으나, 이 덕분에 오늘날에는 흔히 Git 저장소에서 Markdown으로 작성되고는 합니다.

## GitHub에서의 Markdown 문법

Wikitext 문법이 여러 위키 서비스에서 비슷한 변종들로 분화했듯, Markdown 역시 널리 쓰이면서 이와 같은 변화를 겪게 되었습니다. 다행인 점은, Wikitext 변종에 비해 Markdown 변종은 대체로 비슷하다는 점입니다. 적어도 대부분의 Markdown 변종은 제목 표기와 하이퍼링크, 이미지 삽입, 목록, **굵은 글씨 (bold text)**(`**굵은 글씨 (bold text)**`), *기울인 글씨 (italic text)*(`*기울인 글씨 (italic text)*`), `고정폭 텍스트 (monospace text)`(`` `고정폭 텍스트 (monospace text)` ``)에 대해서 일정한 문법을 갖습니다. Markdown 문법과 변종에 대해서는 앞서 링크한 Wikipedia 문서와 [IETF RFC 7764](https://tools.ietf.org/html/rfc7764) 문서를 참조하십시오.

GitHub에서 쓰이는 Markdown의 변종은 GitHub Flavored Markdown 또는 GFM이라고 부르는 것입니다. GFM은 여러 줄 코드 인용과 코드 구문 강조, 작업 목록, 표 등을 표현할 수 있는 확장입니다. GFM에 대해서는 GitHub Guides의 [Mastering Markdown](https://guides.github.com/features/mastering-markdown/) 문서를 읽어 보기 바랍니다. 더 자세히 알아보기 위해서는 GitHub Help의 [Writing on GitHub](https://help.github.com/categories/writing-on-github/) 카테고리 내의 문서를 읽는 것도 좋습니다. README.md의 편집 버튼을 눌러 미리보기를 하거나, 

## TWTL 프로젝트의 문서 포매팅

TWTL 프로젝트의 문서는 GitHub 저장소 [TWTL/Documentation](/)에서 Markdown으로 관리됩니다. 추가로, Markdown 작성 컨벤션은 다음과 같습니다.

**경로와 파일명**. TWTL Doc 000: Template - `000-template`, TWTL Doc 001: Writing Document - `001-writing`, TWTL Doc 002: Repository Index - `002-index`와 같이, 세 자리 문서 코드와 문서 제목을 하이픈(`-`)으로 이어 저장소 최상위에 폴더를 만듭니다. 각 폴더 내에는 `README.md` 파일을 넣어 GitHub에서 해당 폴더에 진입했을 때 문서를 보여 주게 합니다.

한 문서를 여러 파일로 구분하는 것은 가능하며, 이 경우 `README.md`에 가장 먼저 도달하게 됩니다. 하위 문서와 부분 문서를 만드는 것은 다릅니다. 하위 문서를 만드는 경우 문서 ID를 새로 부여하며, 이 경우 하위 폴더를 생성합니다. TWTL Doc 000의 하위 문서인 TWTL Doc 000/01의 경우 경로가 `000-template/01-sub`이 되는 식입니다. 한편 부분 문서를 만드는 경우 동일 폴더 내에 다른 파일을 생성합니다.

하위 문서와 부분 문서를 구분하는 확고한 기준은 없습니다. Markdown에서는 구역 제목에 번호가 자동으로 부여되거나 하이퍼링크를 걸 수 없기 때문에, 분량이 많고 외부에서의 일부분에 대한 참조가 필요한 문서의 경우 하위 문서나 부분 문서를 작성하면 이득이 있을 것입니다. 요구분석 문서의 경우에는 내부 교차 참조를 용이하게 하기 위해 문서를 여러 단계의 하위 문서로 분리할 수 있을 것입니다. 분량이 많은 API 문서의 경우에는 부분 문서에 API 이름을 종류별로 분류해 수 있을 것입니다.

**내부 링크**. 경로와 파일명을 정하는 위 원칙에 더불어, 외부에서 문서에 대한 링크를 걸어야 할 경우 `[TWTL Doc 000](/000-template)`, `[TWTL Doc 000/01](/000-template/01-sub)`와 같이 작성합니다. GitHub의 링크 URL 번역에 따라, 링크 주소가 `/000-template`의 경우  `https://github.com/TWTL/Documentation/tree/master/000-template`가 되고, `/000-template/README.md` 내에서 작성한 링크의 주소가 `./SectionExample.md`의 경우 `https://github.com/TWTL/Documentation/blob/master/000-template/README.md`가 됩니다.

독립된 문서(하위 문서 포함)는 ID가 부여되어 있으므로 외부에서 참조할 수 있으며 절대 주소처럼 링크를 작성하고, 부분 문서의 경우 포함하는 전체 문서에서만 참조할 수 있으므로 파일명의 상대 주소로 링크를 작성합니다. 이 용법에 대해서는 [TWTL Doc 000](/000-template)의 `README.md` 파일 원본을 참조하십시오.

**구역 제목**. ATX heading(`## ...`)을 사용합니다. Setext heading(`====`, `----`)을 사용하지 않습니다. 이는 문서 내의 제목이 3단계 이상으로 깊어질 수 있기에 일관성을 기하기 위함입니다.

**코드 조각**. 코드 조각, 클래스 이름, 인터페이스 이름 등은 `` `close()` ``와 같이 고정폭 폰트로 합니다. 여러 줄 코드 조각이 문서에 들어가야 하는 경우 ```` ``` ````로 시작하고 끝나는 여러 줄 고정폭 인용을 사용합니다.

**이미지**. Markdown에서 이미지는 텍스트와 같은 수준의 인라인 요소로 삽입되며 이 요소의 크기와 위치 등 배치를 세밀하게 조절하는 방법은 없습니다. 그렇기에 대부분의 이미지는 텍스트와 함께 인라인으로 삽입되는 대신 단일 문단으로 블록처럼 삽입되는 것이 권장됩니다. TWTL Doc 000에서 Lorem ipsum 이미지의 삽입 예를 참조하십시오.

이미지는 특히 도표인 경우 원본을 쉽게 변경하고 변경을 추적하기 위해 SVG로 작성되면 버전 제어에 유리합니다. 하지만 현재 GitHub에서는 XSS 이슈로 인해 `github.com` 상에서 (`raw.githubusercontent.com`에서 호스트되는) svg 파일에 대한 접근을 포괄적으로 차단하였으며, 개별 svg 파일을 열람할 수는 있으나 iframe으로 최상위 창과 문서를 보호합니다. 이를 회피하기 위한 방법으로, GitHub Pages를 활용하여 `<projectname>.github.io`에 접근하게 되면 XSS 이슈로부터 `github.com`이 안전하므로 SVG 파일에 대해서 위 제한을 받지 않게 됩니다. 그러나 이를 거의 자연스럽게 (almost seamless) 적용하기 위해서는 Jekyll + Travis CI 따위를 적용해야 하며, 현재 프로젝트 규모에서는 이것이 꽤 큰 비용이라 판단됩니다. 현재 가장 나은 대안은 svg로 원본을 작성하여 저장하고, png로 변환하여 이를 문서에서 참조하는 것입니다.

**HTML 태그**, **표**. 앞서 포기한 구역 제목 참조 및 내부 링크, 이미지 배치 등의 문제를 해결할 수 있는 Markdown의 확장 변종이 있습니다. GitHub Flavored Markdown 역시 Markdown의 확장 변종으로, 이 저장소의 문서가 기준으로 하는 환경은 GFM 구현입니다. GFM의 확장을 사용하면 문서의 품질을 높일 수는 있으나, 다른 Markdown 환경에서 호환성을 잃게 됩니다.

여러 줄 코드 조각의 경우 GFM의 확장에 해당하지만 많은 다른 여러 Markdown 구현이 이를 따르고 있으므로 위에서와 같이 사용을 권장하고 있습니다. 구역 제목 참조 및 내부 링크의 문제, 이미지 크기의 문제를 해결하기 위한 다른 확장이 있으나, GFM을 기준으로 하고 있기 때문에 사용하지 않습니다. GFM의 확장인 표의 경우 문서 작성에 유용할 수 있으나 다른 Markdown 환경에서 지원하지 않는 경우가 많으므로 본 문서 저장소에서는 사용하지 않는 것을 권장합니다. HTML 태그 역시 부분적으로 지원되며 다양한 구현체에서 문서화되지 않은 동작이 많으므로 사용하지 않는 것을 권장합니다.

### 그 밖의 파일 포맷 이슈: 인코딩과 줄 끝

인코딩과 줄 끝은 텍스트 파일이 Markdown이기 이전에 항상 문제가 되는 요소입니다. 텍스트 파일은 가장 원시적인 파일 포맷이기에 텍스트 호환성은 플랫폼 간 호환성 문제의 가장 기본적 양상이며, 이들 문제는 지금도 해결되지 않았고 끊임없이 재생산되고 있습니다.

Markdown 파일로 작성된 문서는 텍스트 파일 고유의 장점을 갖는 동시에 그 단점 역시 그대로 갖게 됩니다. 그렇기에 코딩 규약과 마찬가지로, 텍스트 파일을 어떻게 작성할 것인가에 대한 규약이 필요하게 됩니다.

TWTL 프로젝트의 Markdown 문서 파일은 다음 규격을 지키도록 합니다.

* 인코딩: UTF-8 (No BOM)
* 줄 끝: LF
* 문서 마지막 줄에 줄 끝 문자 (행갈이) 포함

## 작업 환경

### 텍스트 편집기

Markdown은 어떤 텍스트 편집기에서든 작성하고 열람할 수 있도록 고안되었지만, 파일 포맷 이슈가 존재하며 Markdown 문법을 준수하는 것 역시 쉬운 일은 아닙니다.

많은 텍스트 편집기가 Markdown 문법을 포함한 구문 강조 기능이 있으며, 인코딩과 줄 끝에 유의해 텍스트 파일을 작성하는 데 도움이 됩니다. Vim, Emacs, Coda, Gedit, Notepad2-mod, Notepad\+\+, Sublime Text 2, Visual Studio Code, Atom 등에서 이런 이점을 얻을 수 있습니다. Windows 환경이라면 Notepad2-mod나 Visual Studio Code를 써 보기를 권합니다.

### Git과 명령줄

유닉스 호환 환경을 사용하면 Git 명령줄과 가장 잘 호환되는 파일시스템 경로를 쓰고, 줄 끝 이슈를 피하거나 조기에 많이 발견하고, 불필요한 기능이 적용되는 것을 피할 수 있습니다. [MSYS2](https://msys2.github.io)를 사용해 보기를 권장합니다.

## 맺으며

맺는 말은 없습니다.
